@model aspnetmvc_blog.Models.Views.BlogHomeViewModel
@{
    ViewData["Title"] = "Home";
}
<div class="p-4 p-md-5 mb-4 rounded text-bg-dark">
    <div class="col-md-6 px-0">
        <h1 class="display-4 fst-italic">@Model.TopBlog.Title</h1>
        <p class="lead my-3">@Model.TopBlog.Subtitle</p>
        <p class="lead mb-0"><a asp-controller="blog" asp-action="index" asp-route-id="@Model.TopBlog._id" class="text-white fw-bold">Continue reading...</a></p>
    </div>
</div>
<div class="row mb-2">
    @foreach (var fblog in Model.FeaturedBlog)
    {
        <div class="col-md-6">
            <div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
                <div class="col p-4 d-flex flex-column position-static">
                    <strong class="d-inline-block mb-2 text-primary">@fblog.Category</strong>
                    <h3 class="mb-0">@fblog.Title</h3>
                    <div class="mb-1 text-muted">@fblog.BlogDate</div>
                    <p class="card-text mb-auto">@fblog.Subtitle</p>
                    <a asp-controller="blog" asp-action="index" asp-route-id="@fblog._id" class="stretched-link">Continue reading</a>
                </div>
                <div class="col-auto d-none d-lg-block">
                    <img src="@fblog.Image" class="img-fluid" width="200" height="250" alt="thumbnail">
                </div>
            </div>
        </div>
    }
</div>
<div class="row g-5">
    <div class="col-md-8">
        <h3 class="pb-4 mb-4 fst-italic border-bottom">
            From the NestJS Api
        </h3>
        @foreach (var nblog in Model.NewestBlog)
        {
            <article class="blog-post">
                <h2 class="blog-post-title mb-1">@nblog.Title</h2>
                <p class="blog-post-meta">@nblog.BlogDate</p>
                @nblog.Subtitle
                <hr>
                @nblog.Content
            </article>
        }
        <nav class="blog-pagination" aria-label="Pagination">
            <a class="btn btn-outline-primary rounded-pill" asp-controller="blog" asp-action="list">More</a>
        </nav>
    </div>
    <div class="col-md-4">
        <div class="position-sticky" style="top: 2rem;">
            <div class="p-4 mb-3 bg-light rounded">
                <h4 class="fst-italic">About</h4>
                <p class="mb-0">This is a Blog site made using ASP.net core MVC pulling data from a NestJS api</p>
            </div>
            <div class="p-4">
                <h4 class="fst-italic">Archives</h4>
                <ol class="list-unstyled mb-0">
                    @foreach (var archive in Model.ArchiveList)
                    {
                        <li><a asp-controller="blog" asp-action="archive" asp-route-year="@archive.year" asp-route-month="@archive.month">@archive.name</a></li>
                    }
                </ol>
            </div>
            <div class="p-4">
                <h4 class="fst-italic">Elsewhere</h4>
                <ol class="list-unstyled">
                    <li><a href="https://reactjs.crispysisig.com/">Blog made in React</a></li>
                    <li><a href="https://nextjs.crispysisig.com/">Blog made in Next.js</a></li>
                </ol>
            </div>
        </div>
    </div>
</div>
